# 外部系統整合

## Slack 通知推送機制

將重要結論同步推送到 **n8n-測試** 頻道（ID: `C08D74G1ZG8`）。

**可用 Skill**：`/notify-slack [訊息內容]` - 手動推送通知到 Slack（有參數時直接推送，無參數時自動摘要）。

**自動推送規則**：Claude **主動**使用 `mcp__slack__slack_post_message` 推送通知。

- **觸發條件**：任務完成、重要發現、決策結論、問題解決、摘要完成
- **不需推送**：簡單問答、日常小任務、純粹的程式碼瀏覽、用戶明確表示不需要

## Heptabase 知識庫推送機制

Claude **主動**將重要成果推送到 Heptabase，適用於所有專案。

**觸發條件（符合任一即推送）**：
1. **迭代研究完畢** — 專案被要求迭代且研究階段完成，產出結論或方案
2. **重大進展** — 完成功能模組、重要技術發現、架構決策
3. **從錯誤中解決問題** — 成功排除複雜 bug 或解決技術難題，記錄問題與解法

**推送方式**：使用 `mcp__heptabase-mcp__save_to_note_card`

**Tag 規則（必要）**：每次推送必須附上以下 tag 方便日後搜尋：
- **專案名稱** — 如 `ProjectDK`、`ProgressHub`、`DC戰鬥設計`、`ProjectCircle`
- **類型標記** — `迭代成果`、`重大進展`、`問題解決`、`架構決策`、`技術發現`
- **相關事項** — 具體功能或模組名稱，如 `傳送門系統`、`認證模組`、`數值平衡`

## 成果記錄分流

推送 Heptabase 之外，依內容類型記錄到對應位置：

| 內容類型 | 記錄位置 |
|---------|---------|
| 專案架構、技術棧、編碼慣例 | CLAUDE.md 或 docs/ |
| 建置/測試指令 | CLAUDE.md |
| 工作中遇到的錯誤與解法 | Auto Memory (MEMORY.md) |
| 除錯心得、踩坑記錄 | Auto Memory 的 topic 檔 |
| 一次性任務進度 | task_plan.md / progress.md |
| 特定 session 的 TODO | TaskCreate 工具 |
