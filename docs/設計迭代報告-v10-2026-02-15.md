# ProjectCircle 設計迭代報告 v10

**日期**：2026-02-15
**迭代範圍**：v1 → v10（7 輪審查，共 21 個專業 agent 審查）
**當前狀態**：設計規劃階段（Plan Mode），尚未進入實作

---

## 專案概述

**ProjectCircle** 是一款受 Circle Empires 2 啟發的手機營運型地下城擴張遊戲 Prototype。玩家扮演地下城魔王，破牆征服外部區域、部署怪物對抗入侵英雄、建造房間解鎖新怪物。

**核心驗證目標**：「征服擴張」與「經營收集」兩個循環的交互感是否有趣。

**技術棧**：Phaser 3 + TypeScript + Vite + Vitest

---

## 迭代歷程摘要

| 輪次 | 版本 | 審查焦點 | 關鍵產出 |
|------|------|---------|---------|
| 1-3 | v1-v5 | 核心機制/留存鉤子/獨特性 | 確立 4 項核心決策（C1-C4）：Roguelike 方向、失敗給 Meta 資源、地下城建設影響戰力、Gacha 只解鎖進化路線 |
| 4 | v6 | 數值缺口填補 | 完整數值表、波次機制（1-3 波）、部署規則（上限 5 隻）、XP 系統（40 XP 進化） |
| 5 | v7 | DPS 模擬/策略深度 | 怪物數值重平衡、組合路徑鬆綁、新增 3 個金幣消耗坑（治療/增援/強化） |
| 6 | v8 | build 可行性/經濟/策略 | 進化形態重平衡、聖騎士獎勵降低、治療改 60%、強化水晶改固定值、敵方微變化 |
| 7 | v9 | build 驗證/經濟弧線/體驗弧線 | 法師 HP 36→40、狂暴 HP 132→140、寶藏室收入 25→20g、精英預告、結算未選路線展示 |
| 8 | v10 | 難度曲線/部署深度/資訊設計 | **進化時序修正**（40→30 XP）、槽位前後分層、個體部署 CD、進化 UI 規格 |

---

## v10 核心設計決策

### 已確定的 4 項核心決策

1. **C1：偏 Roguelike 方向** — 每局等級重置，核心樂趣是每局建出不同地下城
2. **C2：失敗給 Meta 資源** — 全軍覆沒按征服房間數給少量獎勵
3. **C3：地下城建設影響戰力** — 房間佈局決定怪物組合和戰術
4. **C4：Gacha 只解鎖進化路線** — 基礎怪物透過房間組合獲得，Gacha 擴展 build 深度

### v10 關鍵變更（Round 8 驅動）

#### 1. 進化時序修正（CRITICAL 修復）
- **問題**：v9 的 40 XP 閾值導致進化在戰鬥 3 結束後才觸發，但戰鬥 3 是聖騎士首次出現的最大難度跳躍 → 難度曲線反轉
- **修正**：閾值 40→30 XP，進化在戰鬥 2 結束後觸發
- **效果**：玩家進化後面對聖騎士，難度曲線從 spiky 變為 smooth ascending（2→4→6→8）

#### 2. 部署槽位分層
- **問題**：水平 3 槽位在 350x400px 房間中位置差異幾乎無感（策略深度 2/10）
- **修正**：改為前排 1 + 後排 2 的空間分層
- **效果**：「食人魔前排扛線 + 骷髏兵後排輸出」成為有意義的位置決策

#### 3. 個體部署冷卻
- **問題**：全域 CD 1.5s = 「按就對了」，無策略取捨（4/10）
- **修正**：哥布林 1.0s / 骷髏兵 2.5s / 食人魔 3.0s
- **效果**：「先快速鋪哥布林擋線 vs 等食人魔 CD」的有意義時機決策

#### 4. 戰中即時補部署
- **問題**：前 5 秒部署 → 後 10-15 秒純觀看（代理感真空）
- **修正**：怪物死亡後立即開放補部署
- **效果**：觀看階段變成「隨時可能需要反應」的階段

#### 5. 進化選擇 UI 規格
- 定義了完整的 UI 佈局：兩張路線卡片並列，顯示 HP/ATK/DPS/特殊能力
- Prototype 全部進化路線預設解鎖（不做轉蛋機制）

---

## 當前數值體系

### 怪物基礎屬性（Lv.1）

| 怪物 | HP | ATK | 攻擊間隔 | DPS | 部署 CD |
|------|-----|-----|---------|-----|--------|
| 哥布林 | 60 | 10 | 1.0s | 10.0 | 1.0s |
| 骷髏兵 | 45 | 12 | 1.8s | 6.7 | 2.5s |
| 食人魔 | 120 | 12 | 2.0s | 6.0 | 3.0s |

### 進化後屬性

| 進化形態 | HP | ATK | DPS | 特殊能力 |
|---------|-----|-----|-----|---------|
| 哥布林刺客（A） | 55 | 18 | 22.5 | 移動速度 +30% |
| 哥布林隊長（B） | 72 | 13 | 13.0 | 友軍攻速 +10% |
| 骷髏弓手（A） | 45 | 12 | 8.0 | 射程 220px |
| 骷髏法師（B） | 40 | 10 | 4.0 | AOE 50px |
| 鐵甲食人魔（A） | 220 | 10 | 5.0 | 碰撞推力 +50% |
| 狂暴食人魔（B） | 140 | 12 | 6.7+ | HP 越低 ATK 越高（最高 x3.0） |

### 英雄屬性

| 英雄 | HP | ATK | DPS |
|------|-----|-----|-----|
| 冒險者 | 100 | 14 | 9.3 |
| 聖騎士 | 300 | 30 | 12.0 |

### 經濟數值

| 項目 | 數值 |
|------|------|
| 冒險者擊殺 | 15g |
| 聖騎士擊殺 | 30g |
| 寶藏室收入 | 20g/場 |
| 陷阱 | 30g |
| 治療 | 30g（回 60% HP） |
| 增援令 | 50g（+1 上限） |
| 強化水晶 | 40g（ATK+5，每場限 2 次） |

---

## 已解決的問題（16 項）

| 問題 | 版本 | 解決方式 |
|------|------|---------|
| Session vs Gacha 衝突 | v5 | 方向 C：Gacha 只解鎖進化路線 |
| 獨特留存鉤子 | v5 | 地下城建設影響戰力 |
| 失敗回饋 | v5 | Meta 資源獎勵 + 成績追蹤 |
| 波次機制 | v6 | 1-3 波制，依距離遞增 |
| 部署規則 | v10 | 上限 5，個體 CD，前後槽位 |
| 第一場只有哥布林 | v6 | 設計為教學簡化 |
| 經驗/進化系統 | v10 | 30 XP 進化，戰鬥 2 後觸發 |
| 組合路徑鎖死 | v7 | 任何非起始房間解鎖骷髏兵 |
| 金幣死錢 | v7 | 新增 3 個消耗坑 |
| 進化形態失衡 | v8-v9 | 多輪 DPS 模擬重平衡 |
| 後期金幣溢出 | v8 | 聖騎士獎勵降低 + 治療 60% + 強化 2/場 |
| 支配策略 | v8 | 組合鬆綁 + A/B 路線重平衡 |
| 敵方組成單調 | v8 | 波次微變化（50% 機率變體） |
| 8 build 全可通關 | v9 | 法師/狂暴 HP 微調 |
| 進化時序反轉 | v10 | XP 閾值 40→30 |
| 部署策略淺薄 | v10 | 槽位分層 + 個體 CD + 戰中補部署 |

---

## 仍開放的問題（5 項）

| 問題 | 等級 | 說明 |
|------|------|------|
| 戰鬥可讀性 | CRITICAL | 390px 放 10 個 32px 色塊，Phase 3.0 必須驗證 |
| 前期重玩乏味 | HIGH | 戰鬥 1-2 第 3 次遊玩後例行化，標記為正式版 |
| 範圍膨脹 | HIGH | Phase 7 已降為 stretch goal |
| 每局長度 | HIGH | 預估 3-5 分鐘，待 playtest |
| Gacha 資料模型 | HIGH | Phase 1 預埋結構，Phase 7 才實作 |

---

## 下一步

- Round 9（進行中）：戰鬥節奏模擬 + 完整性缺口掃描
- Round 10-20：加速迭代，每輪 1-2 項最關鍵修改
- 迭代完成後：進入實作階段（Phase 1 開始）

---

**迭代輪次**：8 / 20
**計畫檔案**：`/Users/admin/.claude/plans/iterative-finding-popcorn.md`
